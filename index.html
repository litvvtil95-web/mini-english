<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mini English Dialogs 100+</title>
<style>
body { font-family: Arial; text-align: center; background: #f2f2f2; padding: 20px; }
.card { background: white; padding: 25px; border-radius: 15px; max-width: 550px; margin: auto; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
button { display: block; width: 100%; margin: 6px 0; padding: 12px; border-radius: 10px; border: none; background: #4CAF50; color: white; font-size: 16px; }
.small { background: #2196F3; font-size:14px; }
#result { margin-top: 10px; font-weight: bold; }
.line { margin: 6px 0; text-align: left; }
</style>
</head>
<body>

<div class="card">
  <h2>Mini English Dialogs 100+</h2>
  <div id="level"></div>
  <div id="dialogue"></div>
  <div id="answers"></div>
  <div id="result"></div>
  <div id="progress"></div>
  <button onclick="nextDialogue()">–°–ª–µ–¥—É—é—â–∏–π –¥–∏–∞–ª–æ–≥</button>
</div>

<script>
// ====== 100+ –¥–∏–∞–ª–æ–≥–æ–≤ (—Å–º–µ—à–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: –ø–æ–Ω–∏–º–∞–Ω–∏–µ + –ø—Ä–æ–ø—É—Å–∫–∏) ======
let dialogues = [
  {lines:[{speaker:"A",text:"Hi! How are you?"},{speaker:"B",text:"I'm good, thanks! And you?"}],questions:[{question:"What does B answer?",options:["I'm fine","I'm good, thanks!","I'm bad"],correct:"I'm good, thanks!",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"Do you want to grab lunch today?"},{speaker:"B",text:"Sure! Where should we go?"}],questions:[{question:"Where should they go?",options:["Cinema","Restaurant","Home"],correct:"Restaurant",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"Excuse me, can you help me?"},{speaker:"B",text:"Of course! What do you need?"}],questions:[{question:"How does B respond?",options:["I don't know","Of course! What do you need?","Maybe later"],correct:"Of course! What do you need?",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"What's your favorite movie?"},{speaker:"B",text:"I really like Inception."}],questions:[{question:"Which movie does B like?",options:["Titanic","Inception","Avatar"],correct:"Inception",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"How was your weekend?"},{speaker:"B",text:"It was great! I went hiking."}],questions:[{question:"What did B do on the weekend?",options:["Went hiking","Stayed home","Went shopping"],correct:"Went hiking",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"Can you speak English?"},{speaker:"B",text:"Yes, a little."}],questions:[{question:"How well can B speak English?",options:["Fluently","A little","Not at all"],correct:"A little",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"Do you like coffee or tea?"},{speaker:"B",text:"I prefer tea."}],questions:[{question:"What does B prefer?",options:["Coffee","Tea","Juice"],correct:"Tea",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"Where are you going?"},{speaker:"B",text:"I'm going to the supermarket."}],questions:[{question:"Where is B going?",options:["Supermarket","School","Office"],correct:"Supermarket",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"What time does the train leave?"},{speaker:"B",text:"At 7:30 AM."}],questions:[{question:"When does the train leave?",options:["6:30 AM","7:30 AM","8:30 AM"],correct:"7:30 AM",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"Do you like reading books?"},{speaker:"B",text:"Yes, I read every evening."}],questions:[{question:"When does B read?",options:["Every morning","Every evening","Once a week"],correct:"Every evening",level:"Beginner"}]},
  // ====== –¥–æ–±–∞–≤–ª—è–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –¥–æ 100+ ======
  // –ü—Ä–∏–º–µ—Ä:
  {lines:[{speaker:"A",text:"Could you tell me the way to the station?"},{speaker:"B",text:"Sure, go straight and turn left."}],questions:[{question:"Which direction does B suggest?",options:["Right","Left","Straight only"],correct:"Left",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"I think it will rain today."},{speaker:"B",text:"Yes, better take an umbrella."}],questions:[{question:"What should A take?",options:["Umbrella","Hat","Sunglasses"],correct:"Umbrella",level:"Beginner"}]},
  {lines:[{speaker:"A",text:"Do you play any sports?"},{speaker:"B",text:"I play tennis every weekend."}],questions:[{question:"Which sport does B play?",options:["Tennis","Soccer","Basketball"],correct:"Tennis",level:"Intermediate"}]},
  {lines:[{speaker:"A",text:"I can't find my keys."},{speaker:"B",text:"Did you check your bag?"}],questions:[{question:"Where should A look?",options:["In the bag","On the table","In the car"],correct:"In the bag",level:"Intermediate"}]},
  {lines:[{speaker:"A",text:"I need some advice."},{speaker:"B",text:"Sure, what is it about?"}],questions:[{question:"What does B ask?",options:["About the problem","About the weather","About food"],correct:"About the problem",level:"Intermediate"}]},
  {lines:[{speaker:"A",text:"Can you help me with homework?"},{speaker:"B",text:"Yes, I can help you."}],questions:[{question:"Who helps A?",options:["Teacher","B","Friend"],correct:"B",level:"Intermediate"}]},
  {lines:[{speaker:"A",text:"I am learning English."},{speaker:"B",text:"That's great! Keep practicing."}],questions:[{question:"What does B suggest?",options:["Stop learning","Keep practicing","Forget it"],correct:"Keep practicing",level:"Intermediate"}]},
  {lines:[{speaker:"A",text:"Where do you usually go on holiday?"},{speaker:"B",text:"I usually go to the mountains."}],questions:[{question:"Where does B go?",options:["Beach","Mountains","City"],correct:"Mountains",level:"Intermediate"}]},
  {lines:[{speaker:"A",text:"Have you ever tried sushi?"},{speaker:"B",text:"Yes, I tried it last week."}],questions:[{question:"When did B try sushi?",options:["Last week","Yesterday","Last year"],correct:"Last week",level:"Intermediate"}]},
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–æ 100+
];

// ====== –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ======
let current = 0;
let score = parseInt(localStorage.getItem("score")) || 0;
let totalAnswered = parseInt(localStorage.getItem("totalAnswered")) || 0;

// ====== —Ñ—É–Ω–∫—Ü–∏–∏ ======
function loadDialogue() {
  let dialogueDiv = document.getElementById("dialogue");
  dialogueDiv.innerHTML = "";
  dialogues[current].lines.forEach(line => {
    let div = document.createElement("div");
    div.className = "line";
    div.innerHTML = `<b>${line.speaker}:</b> ${line.text} <button class="small" onclick="speakLine('${line.text.replace(/'/g,"\\'")}')">üîä</button>`;
    dialogueDiv.appendChild(div);
  });

  let answersDiv = document.getElementById("answers");
  answersDiv.innerHTML = "";
  dialogues[current].questions[0].options.forEach(option => {
    let btn = document.createElement("button");
    btn.innerText = option;
    btn.onclick = function() { checkAnswer(option); };
    answersDiv.appendChild(btn);
  });

  document.getElementById("result").innerText = "";
  updateInfo();
}

function checkAnswer(answer) {
  totalAnswered++;
  if(answer === dialogues[current].questions[0].correct) {
    score++;
    document.getElementById("result").innerText = "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!";
  } else {
    document.getElementById("result").innerText = "‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ";
  }
  localStorage.setItem("score", score);
  localStorage.setItem("totalAnswered", totalAnswered);
  updateInfo();
}

function nextDialogue() {
  current = Math.floor(Math.random() * dialogues.length);
  loadDialogue();
}

function updateInfo() {
  let percent = totalAnswered === 0 ? 0 : Math.round((score/totalAnswered)*100);
  let level = "Beginner";
  if(percent >= 70) level = "Intermediate";
  if(percent >= 90) level = "Advanced";
  document.getElementById("progress").innerText =
    "–û—á–∫–∏: " + score + " | –û—Ç–≤–µ—Ç–æ–≤: " + totalAnswered + " | –¢–æ—á–Ω–æ—Å—Ç—å: " + percent + "%";
  document.getElementById("level").innerText = "–£—Ä–æ–≤–µ–Ω—å: " + level;
}

function speakLine(text) {
  let utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = "en-US";
  speechSynthesis.speak(utterance);
}

loadDialogue();
</script>
</body>
</html>
